@startuml
box logic
participant ":Parser" as Parser
participant ":CalculateCommand" as CalculateCommand
end box

box template
participant ":Template" as Template
end box

box component
participant ":Resistor" as Resistor
end box

[-> Parser : parse("calc reff")
activate Parser

Parser -> Parser : prepareCalc("calc reff")
activate Parser

Parser -> CalculateCommand : calculateCommand(template, reff)
activate CalculateCommand

Parser <- CalculateCommand : calc
deactivate CalculateCommand

Parser <- Parser: calc
deactivate Parser

[<- Parser : calc
deactivate Parser

[->CalculateCommand : execute()
activate CalculateCommand

CalculateCommand -> CalculateCommand : getValue()
activate CalculateCommand

CalculateCommand -> Template : template.getComponent("r").toString()
activate Template

Template -> Resistor : getComponent("r")
activate Resistor

Template <- Resistor : r
deactivate Resistor

CalculateCommand <- Template : value
deactivate Template

CalculateCommand <- CalculateCommand : value
deactivate CalculateCommand

[<- CalculateCommand
deactivate CalculateCommand
@enduml